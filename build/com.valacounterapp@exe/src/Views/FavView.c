/* FavView.c generated by valac 0.40.19, the Vala compiler
 * generated from FavView.vala, do not modify */



#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <gdk-pixbuf/gdk-pixbuf.h>
#include <stdlib.h>
#include <string.h>
#include <gdk/gdk.h>
#include <gio/gio.h>


#define TYPE_FAV_VIEW (fav_view_get_type ())
#define FAV_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_FAV_VIEW, FavView))
#define FAV_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_FAV_VIEW, FavViewClass))
#define IS_FAV_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_FAV_VIEW))
#define IS_FAV_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_FAV_VIEW))
#define FAV_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_FAV_VIEW, FavViewClass))

typedef struct _FavView FavView;
typedef struct _FavViewClass FavViewClass;
typedef struct _FavViewPrivate FavViewPrivate;
enum  {
	FAV_VIEW_0_PROPERTY,
	FAV_VIEW_NUM_PROPERTIES
};
static GParamSpec* fav_view_properties[FAV_VIEW_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

struct _FavView {
	GtkBox parent_instance;
	FavViewPrivate * priv;
};

struct _FavViewClass {
	GtkBoxClass parent_class;
};

struct _FavViewPrivate {
	GtkIconView* icon_view;
	GtkListStore* list;
};


static gpointer fav_view_parent_class = NULL;

GType fav_view_get_type (void) G_GNUC_CONST;
#define FAV_VIEW_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TYPE_FAV_VIEW, FavViewPrivate))
FavView* fav_view_new (void);
FavView* fav_view_construct (GType object_type);
static void fav_view_on_drag_data_received (FavView* self,
                                     GtkWidget* widget,
                                     GdkDragContext* context,
                                     gint x,
                                     gint y,
                                     GtkSelectionData* data,
                                     guint info,
                                     guint time);
static void _fav_view_on_drag_data_received_gtk_widget_drag_data_received (GtkWidget* _sender,
                                                                    GdkDragContext* context,
                                                                    gint x,
                                                                    gint y,
                                                                    GtkSelectionData* selection_data,
                                                                    guint info,
                                                                    guint time_,
                                                                    gpointer self);
static void fav_view_finalize (GObject * obj);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);

static const GtkTargetEntry FAV_VIEW_targets[1] = {{"text/uri-list", (guint) 0, (guint) 0}};

static gpointer
_g_object_ref0 (gpointer self)
{
#line 8 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	return self ? g_object_ref (self) : NULL;
#line 88 "FavView.c"
}


static void
_fav_view_on_drag_data_received_gtk_widget_drag_data_received (GtkWidget* _sender,
                                                               GdkDragContext* context,
                                                               gint x,
                                                               gint y,
                                                               GtkSelectionData* selection_data,
                                                               guint info,
                                                               guint time_,
                                                               gpointer self)
{
#line 24 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	fav_view_on_drag_data_received ((FavView*) self, _sender, context, x, y, selection_data, info, time_);
#line 104 "FavView.c"
}


FavView*
fav_view_construct (GType object_type)
{
	FavView * self = NULL;
	GtkIconTheme* icon_theme = NULL;
	GtkIconTheme* _tmp0_;
	GtkIconTheme* _tmp1_;
	GtkListStore* _tmp2_;
	GtkTreeIter iter = {0};
	GtkListStore* _tmp3_;
	GtkTreeIter _tmp4_ = {0};
	GdkPixbuf* _tmp5_ = NULL;
	GdkPixbuf* _tmp6_;
	GtkListStore* _tmp7_;
	GtkTreeIter _tmp8_;
	GtkListStore* _tmp9_;
	GtkIconView* _tmp10_;
	GtkIconView* _tmp11_;
	GtkIconView* _tmp12_;
	GtkIconView* _tmp13_;
	GtkIconView* _tmp14_;
	GtkListStore* _tmp15_;
	GtkIconView* _tmp16_;
	GtkIconView* _tmp17_;
	GtkIconView* _tmp18_;
	GtkIconView* _tmp19_;
	GError* _inner_error0_ = NULL;
#line 5 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	self = (FavView*) g_object_new (object_type, NULL);
#line 6 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	gtk_widget_set_valign ((GtkWidget*) self, GTK_ALIGN_CENTER);
#line 6 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	gtk_widget_set_halign ((GtkWidget*) self, GTK_ALIGN_CENTER);
#line 8 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp0_ = gtk_icon_theme_get_default ();
#line 8 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 8 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	icon_theme = _tmp1_;
#line 10 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp2_ = gtk_list_store_new (2, gdk_pixbuf_get_type (), G_TYPE_STRING, -1);
#line 10 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_g_object_unref0 (self->priv->list);
#line 10 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	self->priv->list = _tmp2_;
#line 12 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp3_ = self->priv->list;
#line 12 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	gtk_list_store_append (_tmp3_, &_tmp4_);
#line 12 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	iter = _tmp4_;
#line 13 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp6_ = gtk_icon_theme_load_icon (icon_theme, "folder", 24, 0, &_inner_error0_);
#line 13 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp5_ = _tmp6_;
#line 13 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 13 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
		_g_object_unref0 (icon_theme);
#line 13 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 13 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
		g_clear_error (&_inner_error0_);
#line 13 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
		return NULL;
#line 173 "FavView.c"
	}
#line 13 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp7_ = self->priv->list;
#line 13 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp8_ = iter;
#line 13 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	gtk_list_store_set (_tmp7_, &_tmp8_, 0, _tmp5_, 1, "Folder", -1);
#line 15 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp9_ = self->priv->list;
#line 15 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp10_ = (GtkIconView*) gtk_icon_view_new_with_model ((GtkTreeModel*) _tmp9_);
#line 15 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	g_object_ref_sink (_tmp10_);
#line 15 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_g_object_unref0 (self->priv->icon_view);
#line 15 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	self->priv->icon_view = _tmp10_;
#line 16 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp11_ = self->priv->icon_view;
#line 16 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	gtk_icon_view_set_pixbuf_column (_tmp11_, 0);
#line 17 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp12_ = self->priv->icon_view;
#line 17 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	gtk_icon_view_set_text_column (_tmp12_, 1);
#line 18 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp13_ = self->priv->icon_view;
#line 18 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	gtk_icon_view_set_item_orientation (_tmp13_, GTK_ORIENTATION_HORIZONTAL);
#line 19 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp14_ = self->priv->icon_view;
#line 19 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp15_ = self->priv->list;
#line 19 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	gtk_icon_view_set_model (_tmp14_, (GtkTreeModel*) _tmp15_);
#line 20 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp16_ = self->priv->icon_view;
#line 20 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	gtk_icon_view_set_spacing (_tmp16_, 12);
#line 21 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp17_ = self->priv->icon_view;
#line 21 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	gtk_icon_view_enable_model_drag_dest (_tmp17_, FAV_VIEW_targets, G_N_ELEMENTS (FAV_VIEW_targets), GDK_ACTION_COPY);
#line 24 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp18_ = self->priv->icon_view;
#line 24 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	g_signal_connect_object ((GtkWidget*) _tmp18_, "drag-data-received", (GCallback) _fav_view_on_drag_data_received_gtk_widget_drag_data_received, self, 0);
#line 26 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp19_ = self->priv->icon_view;
#line 26 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp19_);
#line 5 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_g_object_unref0 (_tmp5_);
#line 5 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_g_object_unref0 (icon_theme);
#line 5 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	return self;
#line 231 "FavView.c"
}


FavView*
fav_view_new (void)
{
#line 5 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	return fav_view_construct (TYPE_FAV_VIEW);
#line 240 "FavView.c"
}


static void
fav_view_on_drag_data_received (FavView* self,
                                GtkWidget* widget,
                                GdkDragContext* context,
                                gint x,
                                gint y,
                                GtkSelectionData* data,
                                guint info,
                                guint time)
{
	GFile* file = NULL;
	gchar** _tmp0_;
	gchar** _tmp1_;
	gchar** _tmp2_;
	gint _tmp2__length1;
	const gchar* _tmp3_;
	GFile* _tmp4_;
	GFile* _tmp5_;
	GFileType type = 0;
	GFile* _tmp6_;
	GFileType _tmp7_;
#line 29 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	g_return_if_fail (self != NULL);
#line 29 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	g_return_if_fail (widget != NULL);
#line 29 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	g_return_if_fail (context != NULL);
#line 29 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	g_return_if_fail (data != NULL);
#line 30 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp1_ = _tmp0_ = gtk_selection_data_get_uris (data);
#line 30 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp2_ = _tmp1_;
#line 30 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp2__length1 = _vala_array_length (_tmp0_);
#line 30 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp3_ = _tmp2_[0];
#line 30 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp4_ = g_file_new_for_uri (_tmp3_);
#line 30 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp5_ = _tmp4_;
#line 30 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp2_ = (_vala_array_free (_tmp2_, _tmp2__length1, (GDestroyNotify) g_free), NULL);
#line 30 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	file = _tmp5_;
#line 32 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp6_ = file;
#line 32 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	type = g_file_query_file_type (_tmp6_, G_FILE_QUERY_INFO_NONE, NULL);
#line 33 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_tmp7_ = type;
#line 33 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	if (_tmp7_ == G_FILE_TYPE_REGULAR) {
#line 297 "FavView.c"
		GFile* _tmp8_;
		gchar* _tmp9_;
		gchar* _tmp10_;
#line 34 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
		_tmp8_ = file;
#line 34 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
		_tmp9_ = g_file_get_basename (_tmp8_);
#line 34 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
		_tmp10_ = _tmp9_;
#line 34 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
		g_print ("%s", _tmp10_);
#line 34 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
		_g_free0 (_tmp10_);
#line 311 "FavView.c"
	} else {
		GFile* _tmp11_;
		gchar* _tmp12_;
		gchar* _tmp13_;
#line 36 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
		_tmp11_ = file;
#line 36 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
		_tmp12_ = g_file_get_basename (_tmp11_);
#line 36 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
		_tmp13_ = _tmp12_;
#line 36 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
		g_print ("%s", _tmp13_);
#line 36 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
		_g_free0 (_tmp13_);
#line 326 "FavView.c"
	}
#line 29 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_g_object_unref0 (file);
#line 330 "FavView.c"
}


static void
fav_view_class_init (FavViewClass * klass)
{
#line 1 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	fav_view_parent_class = g_type_class_peek_parent (klass);
#line 1 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	g_type_class_add_private (klass, sizeof (FavViewPrivate));
#line 1 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	G_OBJECT_CLASS (klass)->finalize = fav_view_finalize;
#line 343 "FavView.c"
}


static void
fav_view_instance_init (FavView * self)
{
#line 1 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	self->priv = FAV_VIEW_GET_PRIVATE (self);
#line 352 "FavView.c"
}


static void
fav_view_finalize (GObject * obj)
{
	FavView * self;
#line 1 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_FAV_VIEW, FavView);
#line 3 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_g_object_unref0 (self->priv->icon_view);
#line 4 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	_g_object_unref0 (self->priv->list);
#line 1 "/home/rodrigo/Public/ValaCounter/src/Views/FavView.vala"
	G_OBJECT_CLASS (fav_view_parent_class)->finalize (obj);
#line 368 "FavView.c"
}


GType
fav_view_get_type (void)
{
	static volatile gsize fav_view_type_id__volatile = 0;
	if (g_once_init_enter (&fav_view_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (FavViewClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) fav_view_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (FavView), 0, (GInstanceInitFunc) fav_view_instance_init, NULL };
		GType fav_view_type_id;
		fav_view_type_id = g_type_register_static (gtk_box_get_type (), "FavView", &g_define_type_info, 0);
		g_once_init_leave (&fav_view_type_id__volatile, fav_view_type_id);
	}
	return fav_view_type_id__volatile;
}


static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint
_vala_array_length (gpointer array)
{
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



